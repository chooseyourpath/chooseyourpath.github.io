<!doctype html>
<html lang="en">

<head>
    <script type="text/javascript">
        var bookID = "17135_2";
        function populateAllRecordersFromGeneratedList() {
            //console.debug("populateAllRecordersFromGeneratedList");
            var file = new XMLHttpRequest();
            var recordersForBookID = "http://localhost:8080/chooseyourpath-private.github.io/allRecordersGenerated_" + bookID + ".txt";
            file.open("GET", recordersForBookID, true);
            file.send(null);
            file.onreadystatechange = function () {
                //console.debug("populateAllRecordersFromGeneratedList:readyState");
                if (file.readyState === 4) {  // Makes sure the document is ready to parse
                    //console.debug("populateAllRecordersFromGeneratedList=4");
                    if (file.status === 200) {  // Makes sure it's found the file
                        //console.debug("populateAllRecordersFromGeneratedList=200");
                        var text = file.responseText;
                        //process the file
                        var lines = text.split(/[\r\n]+/g);
                        var tempDataList = "";
                        if (lines.length) {
                            for (var i = 0, len = lines.length; i < len; i++) {
                                if ("" != lines[i]) {
                                    tempDataList += '<option value="' + lines[i] + '" />';
                                } else {
                                    //console.debug("output: not adding empty value");
                                }
                                //console.debug("tempDataList=" + tempDataList);
                            }
                            document.getElementById('allRecorders').innerHTML = tempDataList;

                        }
                    }
                } else {
                    //console.debug("populateAllRecordersFromGeneratedList:readyState:else");
                }
            }

        };
        window.onload = populateAllRecordersFromGeneratedList();

        function populateAllStudentsFromList() {
            //console.debug("populateAllStudentsFromList");
            var file = new XMLHttpRequest();
            file.open("GET", "http://localhost:8080/chooseyourpath-private.github.io/allStudents.txt", true);
            file.send(null);
            file.onreadystatechange = function () {
                //console.debug("populateAllStudentsFromList:readyState");
                if (file.readyState === 4) {  // Makes sure the document is ready to parse
                    //console.debug("populateAllStudentsFromList=4");
                    if (file.status === 200) {  // Makes sure it's found the file
                        //console.debug("populateAllStudentsFromList=200");
                        var text = file.responseText;
                        //process the file
                        var lines = text.split(/[\r\n]+/g);
                        var tempDataList = "";
                        if (lines.length) {
                            for (var i = 0, len = lines.length; i < len; i++) {
                                if ("" != lines[i]) {
                                    tempDataList += '<option value="' + lines[i] + '" />';
                                } else {
                                    //console.debug("output: not adding empty value");
                                }
                                //console.debug("tempDataList=" + tempDataList);
                            }
                            document.getElementById('allStudents').innerHTML = tempDataList;

                        }
                    }
                } else {
                    //console.debug("populateAllStudentsFromList:readyState:else");
                }
            }

        };
        window.onload = populateAllStudentsFromList();

        function populateAllTeachersFromList() {
            //console.debug("populateAllTeachersFromList");
            var file = new XMLHttpRequest();
            file.open("GET", "http://localhost:8080/chooseyourpath-private.github.io/allTeachers.txt", true);
            file.send(null);
            file.onreadystatechange = function () {
                //console.debug("populateAllTeachersFromList:readyState");
                if (file.readyState === 4) {  // Makes sure the document is ready to parse
                    //console.debug("populateAllTeachersFromList=4");
                    if (file.status === 200) {  // Makes sure it's found the file
                        //console.debug("populateAllTeachersFromList=200");
                        var text = file.responseText;
                        //process the file
                        var lines = text.split(/[\r\n]+/g);
                        var tempDataList = "";
                        if (lines.length) {
                            for (var i = 0, len = lines.length; i < len; i++) {
                                if ("" != lines[i]) {
                                    tempDataList += '<option value="' + lines[i] + '" />';
                                } else {
                                    //console.debug("output: not adding empty value");
                                }
                                //console.debug("tempDataList=" + tempDataList);
                            }
                            document.getElementById('allTeachers').innerHTML = tempDataList;

                        }
                    }
                } else {
                    //console.debug("populateAllTeachersFromList:readyState:else");
                }
            }
        };
        window.onload = populateAllTeachersFromList();



        function pad2(n) { // always returns a string
            return (n < 10 ? '0' : '') + n;
        } var sysDate = new Date(); var currentDateTime = "_" + sysDate.getFullYear() +
            pad2(sysDate.getMonth() + 1) + pad2(sysDate.getDate()) + "_" + pad2(sysDate.getHours()) +
            pad2(sysDate.getMinutes()) + pad2(sysDate.getSeconds()); //console.debug("setting date=" + currentDateTime);

        function appendDate(domID) {
            //console.debug(" appendDate:domID=" + domID);
            //console.debug(" appendDate:document.getElementById(domID).value=" + document.getElementById(domID).value);

            var newName = document.getElementById(domID).value + currentDateTime;
            //console.debug(" appendDate:newName=" + newName);
            document.getElementById(domID).value = newName;
            //console.debug(" appendDate:Updated document.getElementById(domID).value=" + document.getElementById(domID).value);
        }

    </script>
</head>

<body>
    <!-- Pull downs make it easier to enter the user Name -->
    <datalist id="allStudents">
    </datalist>
    <datalist id="allRecorders">
    </datalist>
    <datalist id="allTeachers">
    </datalist>
    <!-- Play your weBook -->
    <form action="index.html" method="get">
        <button tabindex=1>Back to other books</button>
    </form>
    <hr>
    <b>Title: T'was the night before Christmas ------ BookID: 17135_2 </b>
    <br>

    <form action="customer/17135_2/17135_2.html" method="get">
        <label hidden="true" for="name">Reader's Name:</label>
        <input type="hidden" id="name" name="readerID" value="default" readonly />
        <input type="hidden" id="bookID" name="bookID" value="17135_2" readonly>
        <input type="hidden" id=" customerID" name="customerID" value="customer" readonly>
        <button tabindex=16>Listen</button>
    </form>
    <hr>
    <b>Play
        as&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspRecord
        as</b><br>
    <form action="customer/17135_2/17135_2.html" method="get">
        <input id="readingstate" name="playbutton" value type="hidden" readonly>
        <label for="name">Teacher's Name:</label>
        <input tabindex=26 type="text" id="name" name="readerID" list="allTeachers" />
        <input type="hidden" id="readingstate" name="recordbutton" value readonly>
        <label for="name">Student's Name:</label>
        <input tabindex=27 type="text" id="name" name="recorderID" list='allStudents' />
        <input type="hidden" id="bookID" name="bookID" value="17135_2" readonly>
        <input type="hidden" id="customerID" name="customerID" value="customer" readonly>
        <button tabindex=28>Start Recording</button>
    </form>

    <hr>
    <b>Replay as</b>
    <br>
    <form action="customer/17135_2/17135_2.html" method="get">
        <input id="readingstate" name="playbutton" value type="hidden" readonly>
        <label for="name">Student's Name:</label>
        <input tabindex=38 type="text" id="name" name="readerID" list='allStudents' />
        <input id="bookID" name="bookID" value="17135_2" readonly type="hidden">
        <input id="customerID" name="customerID" value="customer" type="hidden" readonly>
        <button tabindex=39>Start Playing </button>
    </form>

    <hr>
    <b>NoPlay Button<br>Replay As</b><br>
    <form action="customer/17135_2/17135_2.html" method="get">
        <!-- <input id="readingstate" name="playbutton" value type="hidden" readonly> -->
        <label for="name">Student's Name:</label>
        <input tabindex=48 type="text" id="name" name="readerID" list='allStudents' />
        <input id="bookID" name="bookID" value="17135_2" readonly type="hidden">
        <input id="customerID" name="customerID" value="customer" type="hidden" readonly>
        <button tabindex=49>Start Playing </button>
    </form>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

    <a id="teacher" />
    <hr />
    Teacher Resources:<br><br>

    <b>Create a unique reading </b> (uses the current time to uniquely identify it) <br>
    <form action="customer/17135_2/17135_2.html" method="get" onsubmit="appendDate('17135_2')">
        <input id="readingstate" name="recordbutton" value type="hidden" readonly>
        <label for="name">Student's Name:</label>
        <input tabindex=55 type="text" id="17135_2" name="recorderID" list="allStudents" />
        <input id="bookID" name="bookID" value="17135_2" readonly type="hidden">
        <input id="customerID" name="customerID" value="customer" type="hidden" readonly>
        <button tabindex=56>Start Recording</button>
    </form>
    ---------<br>
    <b>Replay any recorded version</b> Note: rerun ./populateAllRecordersBasedOnBook.sh 17135
    <br>
    <form action="customer/17135_2/17135_2.html" method="get">
        <input id="readingstate" name="playbutton" value type="hidden" readonly>
        <label for="name">Student's Name:</label>
        <input tabindex=150 type="text" id="name" name="readerID" list='allRecorders' />
        <input id="bookID" name="bookID" value="17135_2" readonly type="hidden">
        <input id="customerID" name="customerID" value="customer" type="hidden" readonly>
        <button tabindex=160>Start Playing </button>
    </form>

    ---------<br>
    <b>Re-Record as</b> <br>
    <form action="customer/17135_2/17135_2.html" method="get">
        <input id="readingstate" name="recordbutton" value type="hidden" readonly>
        <label for="name">Student's Name:</label>
        <input tabindex=250 type="text" id="17135_2_record" name="recorderID" list='allStudents' />
        <input id="bookID" name="bookID" value="17135_2" readonly type="hidden">
        <input id="customerID" name="customerID" value="customer" type="hidden" readonly>
        <button tabindex=260>Start Recording</button>
    </form>
    <hr />
    <br><br><br><br>
    <hr />
    This ebook reader/recorder was created by Dave Neufeld - email <b>readr@daveneufeld.com</b> to provide feedback
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>